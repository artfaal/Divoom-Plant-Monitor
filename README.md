# Divoom Plant Monitor

–ú–æ–Ω–∏—Ç–æ—Ä —Ä–∞—Å—Ç–µ–Ω–∏–π –¥–ª—è Divoom Pixoo 64 —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –∏–∑ Prometheus.

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Ç–µ–Ω–∏–π –Ω–∞ Divoom Pixoo 64. –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∏–∑ Prometheus (–º–µ—Ç—Ä–∏–∫–∏ –æ—Ç –¥–∞—Ç—á–∏–∫–æ–≤ Tuya), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≤—Ä–µ–º–µ–Ω–µ–º –∏ –¥–∞—Ç–æ–π.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Prometheus
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–º–µ–Ω–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ (–∫—Ä–∞—Å–Ω—ã–π/–∑–µ–ª–µ–Ω—ã–π/—Å–∏–Ω–∏–π)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–∞—Å—Ç–µ–Ω–∏—è–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤ (TTF)
- ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –æ–±–≤–æ–¥–∫–∞ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å—Ç–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ YAML –∫–æ–Ω—Ñ–∏–≥
- ‚úÖ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞ macOS —á–µ—Ä–µ–∑ LaunchAgent

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- Divoom Pixoo 64
- Prometheus —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –¥–∞—Ç—á–∏–∫–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π:
  - `tuya_plant_humidity`
  - `tuya_plant_humidity_threshold_min`
  - `tuya_plant_humidity_threshold_max`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd divoom
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python3 -m venv venv
source venv/bin/activate  # –ù–∞ macOS/Linux
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.yaml`, —É–∫–∞–∑–∞–≤:
- IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Divoom Pixoo 64
- URL –≤–∞—à–µ–≥–æ Prometheus

```yaml
prometheus:
  url: "https://prometheus.example.com"

divoom:
  ip_address: "192.168.1.100"  # IP –≤–∞—à–µ–≥–æ Divoom
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∞

```bash
python main.py
```

–°–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç:
1. –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ Prometheus –∏ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ä–∞—Å—Ç–µ–Ω–∏—è—Ö
2. –ü–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ Divoom Pixoo 64
3. –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –º–µ–Ω—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ —Ä–∞—Å—Ç–µ–Ω–∏–µ
4. –û–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞—Å—Ç–µ–Ω–∏–π

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—Å—Ç–µ–Ω–∏—è –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ 64x64 –ø–∏–∫—Å–µ–ª–µ–π:

```bash
# –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∞–ø–∫—É images/
images/
  ‚îú‚îÄ‚îÄ –ê–ª–ª–∞.png
  ‚îú‚îÄ‚îÄ –ì—é–∑–µ–ª—å.png
  ‚îî‚îÄ‚îÄ –§–∏–ª–∏–ø–ø.png
```

–ò–º—è —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–æ —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º —Ä–∞—Å—Ç–µ–Ω–∏—è –∏–∑ Prometheus (`device_name`).

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ—Å—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:

```bash
# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Divoom
python tests/test_connection.py

# –¢–µ—Å—Ç —Ä–æ—Ç–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
python tests/test_messages.py

# –¢–µ—Å—Ç –æ–±–≤–æ–¥–∫–∏ —Ç–µ–∫—Å—Ç–∞
python tests/test_text_stroke.py

# –¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
python tests/test_display_image.py
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `config.yaml`:

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```yaml
rotation:
  interval: 5  # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–º–µ–Ω—ã —Ä–∞—Å—Ç–µ–Ω–∏–π (—Å–µ–∫—É–Ω–¥—ã)

prometheus:
  query_interval: 30  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (—Å–µ–∫—É–Ω–¥—ã)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤ –∏ —Ü–≤–µ—Ç–æ–≤

```yaml
display:
  name_font:
    size: 12
    color: [255, 255, 255]  # RGB
    stroke_width: 1
    stroke_color: [100, 100, 100]
    position: [2, 2]
    font_path: null  # –∏–ª–∏ –ø—É—Ç—å –∫ TTF —à—Ä–∏—Ñ—Ç—É

  humidity_font:
    size: 16
    dynamic_color: true  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞
    colors:
      low: [255, 50, 50]      # –ö—Ä–∞—Å–Ω—ã–π (< min)
      normal: [50, 255, 100]  # –ó–µ–ª–µ–Ω—ã–π (min-max)
      high: [100, 150, 255]   # –°–∏–Ω–∏–π (> max)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã

```yaml
display:
  datetime:
    enabled: true  # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
    time:
      size: 10
      color: [200, 200, 200]
      position: [2, 16]
    date:
      size: 8
      color: [150, 150, 150]
      position: [2, 28]
```

## –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –≤–ª–∞–∂–Ω–æ—Å—Ç–∏

–¶–≤–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ—Ä–æ–≥–æ–≤ –∏–∑ Prometheus:

- üî¥ **–ö—Ä–∞—Å–Ω—ã–π** - –≤–ª–∞–∂–Ω–æ—Å—Ç—å –Ω–∏–∂–µ –º–∏–Ω–∏–º—É–º–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–ª–∏–≤)
- üü¢ **–ó–µ–ª–µ–Ω—ã–π** - –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –Ω–æ—Ä–º–µ (–º–µ–∂–¥—É min –∏ max)
- üîµ **–°–∏–Ω–∏–π** - –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤—ã—à–µ –º–∞–∫—Å–∏–º—É–º–∞ (–ø–µ—Ä–µ—É–≤–ª–∞–∂–Ω–µ–Ω–∏–µ)

–ü–æ—Ä–æ–≥–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –º–µ—Ç—Ä–∏–∫:
- `tuya_plant_humidity_threshold_min`
- `tuya_plant_humidity_threshold_max`

## –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –Ω–∞ macOS

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–π—Ç–µ LaunchAgent:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª
nano ~/Library/LaunchAgents/com.divoom.plantmonitor.plist
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>Label</key>
    <string>com.divoom.plantmonitor</string>

    <key>ProgramArguments</key>
    <array>
        <string>/Users/southnet-mac-server/PROJECTS/divoom/venv/bin/python</string>
        <string>/Users/southnet-mac-server/PROJECTS/divoom/main.py</string>
    </array>

    <key>WorkingDirectory</key>
    <string>/Users/southnet-mac-server/PROJECTS/divoom</string>

    <key>RunAtLoad</key>
    <true/>

    <key>KeepAlive</key>
    <true/>

    <key>ThrottleInterval</key>
    <integer>60</integer>

    <key>StandardOutPath</key>
    <string>/Users/southnet-mac-server/PROJECTS/divoom/logs/stdout.log</string>

    <key>StandardErrorPath</key>
    <string>/Users/southnet-mac-server/PROJECTS/divoom/logs/stderr.log</string>

    <key>EnvironmentVariables</key>
    <dict>
        <key>PATH</key>
        <string>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin</string>
    </dict>
</dict>
</plist>
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `ThrottleInterval` –∑–∞–¥–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏, —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

–ó–∞–≥—Ä—É–∑–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º:

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤
mkdir -p /Users/artfaal/PROJECTS/divoom/logs

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
launchctl load ~/Library/LaunchAgents/com.divoom.plantmonitor.plist

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
launchctl list | grep divoom

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
launchctl unload ~/Library/LaunchAgents/com.divoom.plantmonitor.plist

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
launchctl unload ~/Library/LaunchAgents/com.divoom.plantmonitor.plist
launchctl load ~/Library/LaunchAgents/com.divoom.plantmonitor.plist

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /Users/artfaal/PROJECTS/divoom/logs/stdout.log
tail -f /Users/artfaal/PROJECTS/divoom/logs/stderr.log
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
divoom/
‚îú‚îÄ‚îÄ main.py                    # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ config.yaml                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .gitignore                 # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îú‚îÄ‚îÄ README.md                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ prometheus_client.py   # –ö–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Prometheus
‚îÇ   ‚îî‚îÄ‚îÄ display_manager.py     # –ú–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ Divoom
‚îú‚îÄ‚îÄ images/                    # –§–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞—Å—Ç–µ–Ω–∏–π (64x64)
‚îÇ   ‚îú‚îÄ‚îÄ –ê–ª–ª–∞.png
‚îÇ   ‚îú‚îÄ‚îÄ –ì—é–∑–µ–ª—å.png
‚îÇ   ‚îî‚îÄ‚îÄ –§–∏–ª–∏–ø–ø.png
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_connection.py
‚îÇ   ‚îú‚îÄ‚îÄ test_messages.py
‚îÇ   ‚îú‚îÄ‚îÄ test_text_stroke.py
‚îÇ   ‚îî‚îÄ‚îÄ test_display_image.py
‚îî‚îÄ‚îÄ logs/                      # –õ–æ–≥–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îú‚îÄ‚îÄ stdout.log
    ‚îî‚îÄ‚îÄ stderr.log
```

## Troubleshooting

### Divoom –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Divoom –≤–∫–ª—é—á–µ–Ω –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–µ—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å –≤ `config.yaml`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Divoom –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `python tests/test_connection.py`

### –î–∞–Ω–Ω—ã–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Prometheus –ø–æ URL –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–µ—Ç—Ä–∏–∫–∏ `tuya_plant_humidity` —Å—É—â–µ—Å—Ç–≤—É—é—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

### –¢–µ–∫—Å—Ç –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è –Ω–∞ —Ñ–æ–Ω–µ

1. –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–æ–ª—â–∏–Ω—É –æ–±–≤–æ–¥–∫–∏ (`stroke_width: 2`)
2. –ò–∑–º–µ–Ω–∏—Ç–µ —Ü–≤–µ—Ç –æ–±–≤–æ–¥–∫–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ã–π
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∑–∏—Ü–∏—é —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ `position: [x, y]`

### LaunchAgent –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ plist —Ñ–∞–π–ª–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `logs/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞: `chmod +x main.py`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f ~/Library/LaunchAgents/logs/stderr.log`

## –ú–µ—Ç—Ä–∏–∫–∏ Prometheus

–ü—Ä–æ–µ–∫—Ç –æ–∂–∏–¥–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç Prometheus:

```promql
# –¢–µ–∫—É—â–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å
tuya_plant_humidity{device_id="...", device_name="...", instance="home"}

# –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥
tuya_plant_humidity_threshold_min{device_id="...", device_name="...", instance="home"}

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥
tuya_plant_humidity_threshold_max{device_id="...", device_name="...", instance="home"}
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ê–≤—Ç–æ—Ä

Created for monitoring plant humidity on Divoom Pixoo 64 with data from Prometheus.
